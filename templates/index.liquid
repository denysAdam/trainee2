<div class="container mx-auto py-8 px-6">
  <div class="flex justify-between items-center py-8 px-12">
  <h1 class="text-4xl font-bold">Best Sellers</h1>
  <div>
    <a href="/collections/all" class="text-black-700 py-2 px-6 text-lg font-semibold border-2 border-black rounded-full">View All</a>
  </div>
</div>

<!-- Контейнер для слайдера -->
<div class="swiper-container px-4 ">
  <!-- Слайдер (продукты) -->
  <div class="swiper-wrapper">
    {% for product in collections.all.products %}
    <div class="swiper-slide p-4 ">
      <!-- Изображение продукта -->
<div class="swiper-slide p-4">
  <!-- Изображение продукта -->
  <div class="product-image mb-4 relative">
    {% if product.featured_image %}
      <img class="w-auto h-auto" src="{{ product.featured_image | image_url: width: 300, height: 300 }}" alt="{{ product.title }}">
    {% else %}
      <p>No picture yet</p>
    {% endif %}
    <!-- Кнопка добавления -->
    <button class="bg-[#CB8A3D] font-bold text-white rounded-full w-12 h-12 flex items-center justify-center absolute bottom-2 right-2">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
    </button>
  </div>
</div>


      <!-- Информация о продукте -->
      <div class="product-info">
        <h2 class="text-xl text-center font-semibold">{{ product.title }}</h2>
        <p class="text-gray-700 text-center font-bold">{{ product.price | money }}</p>

        <!-- Блок отзывов с рейтингом и количеством отзывов -->
        <div class="flex items-center justify-center space-x-2">
          {% assign rating = product.reviews.rating | default: 0 %}
          {% assign reviews_count = product.reviews.count | default: 0 %}
          <div class="flex">
            {% for i in (1..5) %}
              {% if i <= rating %}
                  <svg class="w-4 h-4 text-yellow-500 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                  <path d="M10 15l-5.878 3.09 1.123-6.545-4.762-4.635 6.582-.957L10 .458l2.935 5.495 6.582.957-4.762 4.635 1.123 6.545z"/>
                </svg>
              {% else %}
                <svg class="w-4 h-4 text-gray-300 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                  <path d="M10 15l-5.878 3.09 1.123-6.545-4.762-4.635 6.582-.957L10 .458l2.935 5.495 6.582.957-4.762 4.635 1.123 6.545z"/>
                </svg>
              {% endif %}
            {% endfor %}
          </div>
          <!-- Отображение количества отзывов -->
          {% if reviews_count > 0 %}
            <span class="text-xs text-gray-500">({{ reviews_count }} reviews)</span>
          {% else %}
            <span class="text-xs text-gray-500">(No reviews)</span>
          {% endif %}
        </div>
      </div>

      <!-- Варианты продукта -->
      <div class="product-variants mt-4">
        <div class="flex space-x-2 justify-center">
          {% for variant in product.variants %}
          <label class="variant-label">
            <input type="radio" name="product_{{ product.id }}_variant" class="hidden" />
            <span class="h-6 w-6 inline-block rounded-full border border-gray-200" style="background-color: {{ variant.option1 }}" title="{{ variant.title }}"></span>
          </label>
          {% endfor %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Пагинация -->
  <div class="swiper-pagination pb-6"></div>
</div>


<script>
  var swiper = new Swiper('.swiper-container', {
    slidesPerView: 4,
    spaceBetween: 35,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    
    loop: true,  
    
  });
</script>
